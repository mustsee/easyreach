(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{353:function(t,e,r){"use strict";r.r(e);r(42),r(36),r(53),r(37),r(54);var n=r(15),o=(r(41),r(19),r(98),r(56));function c(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function l(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var d={transition:"default",data:function(){return{debounce:!1,debounceLoadData:!1}},computed:{isLoading:function(){return this.$store.state.isLoading},currentUser:function(){return this.$store.state.user},getNumberOfGuests:function(){return this.getBookings?this.getBookings.length:0},getMessages:function(){return this.$store.state.messages},getBookings:function(){return this.$store.state.bookings[this.apiDate]},filteredBookings:function(){var t=this.typeFilter,e=this.statusFilter,r=this.getBookings,n=r;return"all"!==t&&(n=r.filter((function(e){return e.type===t}))),"all"!==e&&(n=n.filter((function(t){return t.status===e}))),n},typeFilter:function(){return this.$store.state.typeFilter},statusFilter:function(){return this.$store.state.statusFilter},apiDate:function(){return this.$store.getters.apiDate}},methods:l(l({},Object(o.b)({loadGuestsData:"loadGuestsData",writeGuestsData:"writeGuestsData",dateLastUpdates:"dateLastUpdates"})),{},{writeData:function(){var t=this;this.debounceLoadData||(this.debounceLoadData=!0,this.$store.dispatch("writeGuestsData").then((function(e){e.length>0&&t.loadData()})).catch((function(t){return console.log("Error in writeData function: ",t)})),setTimeout((function(){return t.debounceLoadData=!1}),5e3))},loadData:function(){var t=this;this.debounce||(this.debounce=!0,this.$store.dispatch("loadGuestsData").catch((function(t){return console.log("Error in loadData function: ",t)})).finally((function(){return t.debounce=!1})))}}),activated:function(){if(!this.currentUser.email)return this.$router.push("/")},mounted:function(){if(!this.currentUser.email)return this.$router.push("/");this.loadData(),this.$store.dispatch("dateLastUpdates")}},f=r(35),component=Object(f.a)(d,(function(){var t=this,e=t._self._c;return e("client-only",[t.currentUser.email?e("div",[e("arrivals-menu",{attrs:{numberOfGuests:t.getNumberOfGuests,bookings:t.getBookings}}),t._v(" "),t.isLoading?e("div"):t.getNumberOfGuests?e("div",t._l(t.filteredBookings,(function(r,n){return e("guest-card",{key:n,attrs:{booking:r,messages:t.getMessages,index:n}})})),1):e("div",{staticClass:"flex flex-col mb-12 justify-center items-center text-gray-500"},[e("span",{staticClass:"my-8 text-xl font-semi-bold"},[t._v("NO DATA")]),t._v(" "),e("span",{class:t.debounceLoadData?"pointer-events-none opacity-50":"",attrs:{title:"Upload data"},on:{click:t.writeData}},[e("svg",{staticClass:"my-2 py-9 px-4 w-24 h-24 border bg-gray-100 rounded-lg cursor-pointer hover:bg-gray-200 hover:text-gray-600",attrs:{fill:"currentColor",viewBox:"0 0 24 24"}},[e("path",{attrs:{d:"M12 21l-8-9h6v-12h4v12h6l-8 9zm9-1v2h-18v-2h-2v4h22v-4h-2z"}})])])])],1):e("div")])}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{ArrivalsMenu:r(351).default,GuestCard:r(352).default})}}]);